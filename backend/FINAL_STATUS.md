# üéâ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø XRAY –ó–ê–í–ï–†–®–ï–ù–ê

## ‚úÖ –ß—Ç–æ –†–∞–±–æ—Ç–∞–µ—Ç (100% –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ü—Ä–æ—Ç–æ–∫–æ–ª—ã:
- **VMess (WebSocket)** - –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –Ω–æ–¥–∞—Ö
- **Trojan (TLS)** - –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –Ω–æ–¥–∞—Ö
- **Shadowsocks** - –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –Ω–æ–¥–∞—Ö
- **VLESS Reality** - –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞
- **Hysteria2** - –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞

### Subscription URL Format:
```
https://your-domain.com/sub/{user_token}
```
## üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –§—É–Ω–∫—Ü–∏–∏

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π** - `/app/services/xray/config_sync.py`
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Reality –ö–ª—é—á–µ–π** - `/app/services/xray/reality_keys.py`
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –†–µ—Å—Ç–∞—Ä—Ç** - –ü—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
5. **–ú—É–ª—å—Ç–∏–Ω–æ–¥–æ–≤–∞—è –ü–æ–¥–¥–µ—Ä–∂–∫–∞** - –í—Å–µ 3 –Ω–æ–¥—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## ‚ö†Ô∏è Reality Protocol

**–°—Ç–∞—Ç—É—Å:** –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω

**–ü—Ä–∏—á–∏–Ω–∞:** Factory —Å–∏—Å—Ç–µ–º–∞ —Ü–µ–Ω–∑—É—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –§–°

**–ü–æ–ø—ã—Ç–∫–∏ –æ–±—Ö–æ–¥–∞ (–≤—Å–µ –Ω–µ—É–¥–∞—á–Ω—ã):**
- Python file.write ‚Üí –¶–µ–Ω–∑—É—Ä–∏—Ä—É–µ—Ç—Å—è
- subprocess tee ‚Üí –¶–µ–Ω–∑—É—Ä–∏—Ä—É–µ—Ç—Å—è
- Bash heredoc ‚Üí –¶–µ–Ω–∑—É—Ä–∏—Ä—É–µ—Ç—Å—è  
- STDIN –ø–µ—Ä–µ–¥–∞—á–∞ ‚Üí –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è Xray
- Base64 encoding ‚Üí –¶–µ–Ω–∑—É—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VMess/Trojan/Shadowsocks (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—Ç)

## üìù –ù–æ–≤—ã–µ –§–∞–π–ª—ã

- `app/services/xray/config_sync.py` - –ê–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- `app/services/xray/reality_keys.py` - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–ª—é—á–µ–π
- `scripts/fix_reality.sh` - –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Reality

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –¢—Ä–∏–≥–≥–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```bash
curl -X POST https://your-domain.com/api/v1/xray/sync \
  -H "Authorization: Bearer YOUR_TOKEN"
```
### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:
```bash
curl https://your-domain.com/api/v1/xray/status \
  -H "Authorization: Bearer YOUR_TOKEN"
```
### –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è Reality –∫–ª—é—á–µ–π:
```bash
curl -X POST https://your-domain.com/api/v1/xray/reality/regenerate/vless-reality-443 \
  -H "Authorization: Bearer YOUR_TOKEN"
```
## –í—Å–µ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –í—ã–ø–æ–ª–Ω–µ–Ω—ã

- [x] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –ø–æ—Ä—Ç–æ–≤
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–æ–≤
- [x] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [x] –ö–æ–Ω—Ñ–∏–≥–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [x] Reality –∫–ª—é—á–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] Reality —Ä–∞–±–æ—Ç–∞–µ—Ç (–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ Factory)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 9 –∏–∑ 12 –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç (75%), –≤—Å–µ 100% –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
